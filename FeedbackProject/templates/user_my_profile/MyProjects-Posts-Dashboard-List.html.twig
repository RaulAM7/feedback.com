{% extends 'base.html.twig' %}

{% block title %}My Projects Posts Dashboard
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="title">My Projects Dashboard</h1>

		<ul class="post-list">
			{% for post in posts %}
				<li class="post-item">
					<div class="post-summary" onclick="toggleDetails({{ post.id }})">
						<h3>{{ post.title }}</h3>
						<span>
							<strong>Type:</strong>
							{{ post.type }}</span>
						<span>
							<strong>Status:</strong>
							{{ post.status }}</span>
						<span>
							<strong>Project:</strong>
							{{ post.project.name }}</span>
					</div>
					<div id="details-{{ post.id }}" class="post-details">
						<p>{{ post.description }}</p>
						<span>
							<strong>Author:</strong>
							{{ post.author.username }}</span>
					</div>
				</li>
			{% endfor %}
		</ul>
	</div>

<script>
            function toggleDetails(id) {
    const details = document.getElementById('details-' + id);
    details.classList.toggle('visible');
    }
</script>

	<style>
		.container {
			max-width: 1200px;
			margin: 20px auto;
			padding: 20px;
		}
		.title {
			text-align: center;
			font-size: 28px;
			margin-bottom: 20px;
			color: #333;
		}
		.post-list {
			list-style: none;
			padding: 0;
		}
		.post-item {
			border: 1px solid #ddd;
			padding: 15px;
			margin-bottom: 10px;
			background: #fff;
			border-radius: 8px;
		}
		.post-summary {
			cursor: pointer;
		}
		.post-summary h3 {
			font-size: 18px;
			color: #2CD8D5;
			margin: 0;
		}
		.post-details {
			display: none;
			padding-top: 10px;
		}
		.post-details.visible {
			display: block;
		}
	</style>
{% endblock %}

